modules:
  confluence:fullPage:
    - key: confluence-hackathon-full-page
      title: Heatmap Analytics Dashboard
      resource: main
      resolver:
        function: resolver
      routePrefix: hello-world
  
  confluence:contentBylineItem:
    - key: heatmap-content-byline
      title: Heatmap Analytics
      tooltip: Click to view heatmap analytics dashboard
      icon: https://developer.atlassian.com/platform/forge/images/icons/issue.svg
      resource: main
      resolver:
        function: resolver
      viewportSize: small
      viewportContainer: popup
  
  confluence:contentAction:
    - key: heatmap-content-action
      title: View Heatmap Analytics
      resource: main
      resolver:
        function: resolver
      viewportSize: small
  
  confluence:spacePage:
    - key: heatmap-space-page
      title: Heatmap Analytics
      route: heatmap-space
      resource: main
      resolver:
        function: resolver
  
  confluence:backgroundScript:
    - key: page-tracker
      resource: page-tracker
      resolver:
        function: resolver
  
  function:
    - key: resolver
      handler: index.handler
resources:
  - key: main
    path: static/hello-world/build
  - key: page-tracker
    path: static/page-tracker/build
app:
  runtime:
    name: nodejs22.x
    memoryMB: 256
    architecture: arm64
  id: ari:cloud:ecosystem::app/24e34540-92df-4b82-81a2-46340f7d3440
permissions:
  scopes:
    - read:confluence-user
    - read:page:confluence
    - storage:app
